# RMC代码框架介绍
---
- 开讲人：小马哥
- 时间：2020/1/22 22：30-23：00
---
[TOC]

### 大框架
* main函数，各种类定义，
* 并行，_IS_MPIPARALLEL，先开，main函数执行完后关闭
  * 中子输运蒙卡，粒子数与运行时间几乎线性，因为现在的计算通讯时间很小
* CheckIOFile检查输入文件
* OutputHeading打印输出文件头
* ReadInputBlocks读输入卡，匹配关键字，进入Block读取
* GenerateInpFile产生燃耗计算的接续文件，这现在不用，但是之后要用到，很重要
* RunCalculation计算模式，进入Couple_CalNTMCriticality，此文件为核心
* Write_Power_HPR将功率分布输出为APDL识别文件，并且执行提交APDL计算，并且等待APDL执行完毕的信号文件，实现交互

### 源文件介绍
* Read*文件是读的功能
* Read_TH是读温度、密度反馈
* Read_Geo是读几何反馈
* SI_Read*是另一套输入卡，国核CosRMC的，此处无用

## 任务
* 谢碧衡
  * 调整APDL的图，结果分析部分（有限元模型、温度分布、位移分布、应力分布），绘图尽量能作局部剖切图以同时展现内部外部情况
  * 对于云图比较粗糙可以选较为细致光滑的图，或者调整色阶数，甚至用连续色阶试试
  * 对比耦合前（第一次迭代）和耦合后的结果
* 韩文斌
  * 绘制网格映射图，反映是如何网格映射，如何实现动态几何的（每个圈是一个cell，基体用三圈圆心连线形成的三角切分形成子通道为一个cell，内部为均匀温度密度，但是之后半定量分析发现可以简化，因此基体最后实行是不需要分割的）
  * 和徐源一起通过solidworks的MSR绘制一些展示度高的图
  * 热管堆设计方案介绍（背景、目标、参数、模型），展示solidworks效果图
  * N-T/M耦合代码框图